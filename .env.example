# .env — copy to .env and fill in your keys
# Only OPENAI_API_KEY is required; everything else has sensible defaults.

# ── LLM ──────────────────────────────────────────────────────────────────────
OPENAI_API_KEY=your-openai-api-key-here
# OPENAI_MODEL=gpt-4o-mini
# OPENAI_TEMPERATURE=0.2

# ── Web search (optional — graceful degradation when absent) ─────────────────
# TAVILY_API_KEY=
# TAVILY_MAX_RESULTS=5
# TAVILY_SEARCH_DEPTH=basic

# ── Database ─────────────────────────────────────────────────────────────────
DB_BACKEND=sqlite
SQLITE_PATH=reports.db
# POSTGRES_DSN=postgresql://user:password@localhost:5432/ph_advisor

# ── Docker Compose (only used when running via docker compose) ───────────────
# POSTGRES_USER=ph_advisor
# POSTGRES_PASSWORD=ph_advisor
# POSTGRES_DB=ph_advisor
# POSTGRES_PORT=5432

# ── Redis / Celery (required for web UI) ─────────────────────────────────────
# REDIS_URL=redis://localhost:6379/0
# REDIS_PORT=6379
# WEB_PORT=5000

# ── API base URLs (override only if you run a local proxy / mirror) ──────────
# DRAGONFI_BASE_URL=https://api.dragonfi.ph/api/v2
# PSE_EDGE_BASE_URL=https://edge.pse.com.ph
# TRADINGVIEW_SCANNER_URL=https://scanner.tradingview.com/philippines/scan

# ── HTTP ─────────────────────────────────────────────────────────────────────
# HTTP_TIMEOUT=15

# ── Timezone (IANA name or UTC/GMT offset, e.g. Asia/Manila, UTC+8) ──────────
# TIMEZONE=Asia/Manila

# ── Output (export directory for PDF / HTML files) ──────────────────────────
# OUTPUT_DIR=              # empty = current directory; set in docker-compose

# ── Analysis thresholds (tune to adjust agent sensitivity) ───────────────────
# TREND_UP_THRESHOLD=5          # % change above which trend = uptrend
# TREND_DOWN_THRESHOLD=-5       # % change below which trend = downtrend
# SPIKE_STD_MULTIPLIER=3        # × daily-return std to flag a spike
# SPIKE_MIN_ABS_RETURN=0.05     # minimum |return| to count as spike
# HIGH_VOLATILITY_THRESHOLD=0.03  # daily std above this = "high volatility"
# OVERVALUATION_MULTIPLIER=1.3  # price / avg > this = overvaluation risk
# DISTRESS_MULTIPLIER=0.7       # price / avg < this = distress risk
# CATALYST_YIELD_THRESHOLD=3.0  # dividend yield (%) to trigger catalyst
# CATALYST_RANGE_PCT=65         # % of 52-week range for catalyst detection
# CATALYST_DAY_CHANGE_PCT=0.5   # daily % change to trigger momentum catalyst
# CATALYST_NEAR_HIGH_PCT=5      # % gap to 52-week high for "near high" catalyst

# ── LangSmith tracing (optional) ────────────────────────────────────────────
# LANGCHAIN_TRACING_V2=true
# LANGCHAIN_API_KEY=
# LANGCHAIN_PROJECT=ph-stocks-advisor
